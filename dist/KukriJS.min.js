/*! KukriJS - Kukri is a set of js tools to help with writing JavaScript libraries By  ( https://github.com/GreyMage/KukriJS ), Built on 08-06-2015 */

function fadeIn(a){var b=new deferred;a.style.opacity=0;var c=+new Date,d=function(){a.style.opacity=+a.style.opacity+(new Date-c)/400,c=+new Date,+a.style.opacity<1?window.requestAnimationFrame?requestAnimationFrame(d):setTimeout(d,16):b.resolve()};return d(),b.promise()}function fadeOut(a){var b=new deferred;a.style.opacity=1;var c=+new Date,d=function(){a.style.opacity=+a.style.opacity-(new Date-c)/400,c=+new Date,+a.style.opacity>0?window.requestAnimationFrame?requestAnimationFrame(d):setTimeout(d,16):b.resolve()};return d(),b.promise()}var pubSub=function(){function a(){var a={};return a.channels={},a.pub=function(b,c){a.channels[b]=a.channels[b]||[],a.channels[b].forEach(function(a){a&&a(c)})},a.sub=function(b,c){a.channels[b]=a.channels[b]||[],a.channels[b].push(c)},a.unsub=function(b,c){a.channels[b]=a.channels[b]||[];var d=a.channels[b].indexOf(c);~d&&a.channels[b].splice(d,1)},a}var b;return{getInstance:function(){return b||(b=a()),b}}}(),deferred=function(){var a=!1,b=!1,c=[],d=[],e=[],f=[],g={};return g.done=function(b){return a?void b.apply(null,e):(c.push(b),this)},g.fail=function(a){return b?void a.apply(null,f):(d.push(a),this)},g.always=function(a){return g.done(a).fail(a)},g.resolve=function(){if(!b&&!a){a=!0,e=arguments;for(var d=0;d<c.length;d++)c[d].apply(null,e);return this}},g.reject=function(){if(!b&&!a){b=!0,f=arguments;for(var c=0;c<d.length;c++)d[c].apply(null,f);return this}},g.promise=function(){return{done:function(){return g.done.apply(null,arguments),this},fail:function(){return g.fail.apply(null,arguments),this},always:function(){return g.always.apply(null,arguments),this}}},g},ce=function(a,b,c){var d=document.createElement(a);c&&d.appendChild(document.createTextNode(c));for(var e in b){var f=b[e];d.setAttribute(e,f)}return d},postEncode=function(a){return"object"!=typeof a?a:Object.keys(a).reduce(function(b,c){return b.push(c+"="+encodeURIComponent(a[c])),b},[]).join("&")},deepExtend=function(a){a=a||{};for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)c.hasOwnProperty(d)&&("object"==typeof c[d]?deepExtend(a[d],c[d]):a[d]=c[d])}return a},extend=function(a){a=a||{};for(var b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},ajax=function(a){var b={url:"/",method:"get",data:!1,sendDataAsJSON:!1};b=extend(b,a);var c=deferred(),d=new XMLHttpRequest;return d.open(b.method,b.url,!0),d.onload=function(){if(d.status>=200&&d.status<400){var a=d.responseText;try{a=JSON.parse(a)}catch(b){}c.resolve(a,!1)}else c.reject(!1,d)},d.onerror=function(){c.reject(!1,d)},b.data?b.sendDataAsJSON?(d.setRequestHeader("Content-Type","application/json; charset=UTF-8"),d.send(JSON.stringify(b.data))):(d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),d.send(postEncode(b.data))):d.send(),c.promise()},fontAwesomeIcon=function(a){var b=document.createElement("i");return b.classList.add("fa"),b.classList.add("fa-"+a),b},createBoundElement=function(a){var b={object:"/",property:"get",uniq:!1,elem:!1,readFunc:!1,writeFunc:!1};b=extend(b,a);var c=pubSub.getInstance(),d=b.elem||ce("input"),e=function(){return b.readFunc?b.readFunc(b.object[b.property]):b.object[b.property]},f=function(a){b.writeFunc&&(b.object[b.property]=b.writeFunc(a)),b.object[b.property]=a},g="be_"+b.uniq+"_"+b.property;if(c.sub(g,function(a){f(a),"undefined"!=typeof d.value?d.value=e():(d.innerHTML="",d.appendChild(document.createTextNode(e())))}),"undefined"!=typeof d.value){var h=function(){c.pub(g,d.value)};d.value=e(),d.addEventListener("change",h),d.addEventListener("keyup",h)}else d.innerHTML="",d.appendChild(document.createTextNode(e()));return f(e()),d},addClass=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},readGetParams=function(){for(var a=window.location.search.substr(1).split("&"),b={},c=[],d=0;d<a.length;d++)c=a[d].split("="),"undefined"==typeof c[1]?b[c[0]]="":b[c[0]]=decodeURIComponent(c[1]);return b},addGetParam=function(a,b){var c=readGetParams();c[a]=b;var d=[];for(var e in c)"undefined"!=typeof c&&d.push(e+"="+c[e]);return"?"+d.join("&")};
//# sourceMappingURL=KukriJS.min.js.map